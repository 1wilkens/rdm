# **[rdm]** -- questions.md

## .Xauthority
- Generated by dm (either by `xauth` or directly)
    - Don't rely on `xauth` as it may not be installed
    - For format of the file see: https://github.com/aosm/X11/blob/f2829c6974ac3aacdf0c5e3f1d1c2818301cec0d/xc/lib/Xau/AuWrite.c#L55
- Passed to Xorg call
- Persisted in `%HOME/.Xauthority` (usually) to allow access for apps + location saved in "XAUTHORITY" env var
- Where to do this?
    - Generate pre X spawn -> pass to X
    - But no user yet -> share with user session which then writes to home (probably in memory)

## Dbus
- Required?
    - Probably not strictly, but figure out which best practices exist (e.g. comply with Gnome interface)

## PAM
- rdm
    - `system-login`?
- rdm-greeter
    - Opens sessions -> "`-session optional pam_systemd.so`"
    - sddm: Cannot change password?

## Systemd
- What are the requirements?
    - `pam_systemd.so` does not seem to be enough
- How to properly validate?
    - Existence of user run directory not sufficient

## Other
- Signalhandling?
    - Is the raw C API safe enough?
    - Are there new wrappers?
        - yes! tokio_signal -> investigate
- Non-root Xorg 
    - How to decide which user to run the server as?
    - What are the actual requirements for this?
- C Callback interaction (?? migrated from `architecture.md`)